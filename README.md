# myxmlparser

Консольное Spring Boot‑приложение, которое читает XML (из файла или по URL), извлекает из него структуру «таблиц» и на основании этой структуры создаёт таблицы в PostgreSQL. При повторном запуске может проверять, что структура таблиц в БД совпадает со структурой, полученной из XML.

## Возможности

- Чтение XML:
    - из файла (`--xml.file=...`)
    - по URL (`--xml.url=...`)
- Разбор XML и получение списка «таблиц» (по именам узлов).
- Генерация DDL (SQL) для создания таблиц в PostgreSQL.
- Создание таблиц в БД.
- Проверка соответствия схемы: если таблица уже существует, приложение сверяет набор колонок с ожидаемым из XML и завершает работу с ошибкой при расхождениях.
- (Опционально/в разработке) обновление данных в таблицах по `id`.

## Требования

- Java 25
- Maven 3.9+
- Docker (опционально, для локального PostgreSQL через Compose)

## Быстрый старт

### 1) Запуск PostgreSQL в Docker

В репозитории есть `compose.yaml` с PostgreSQL. Запустите:
bash docker compose up -d

Проверьте, что PostgreSQL доступен локально на порту `5432`.

> Примечание: параметры подключения к БД (URL/логин/пароль) должны быть настроены в конфигурации приложения (обычно `application.properties`). Если они не заданы, добавьте их перед запуском.

### 2) Сборка проекта

bash mvn clean package

После сборки получится исполняемый JAR (имя может отличаться в зависимости от конфигурации сборки).

### 3) Запуск приложения

#### Вариант A: XML из файла

bash java -jar target/my-xml-parser.jar --xml.file=/path/to/input.xml

## Ограничения и заметки

- Проект рассчитан на PostgreSQL.
- Структура XML должна соответствовать ожидаемой логике: наличие узла `shop` и дочерних коллекций, из которых формируются таблицы.
- Для корректного обновления данных (если включено/добавлено) предполагается наличие обязательного поля/атрибута `id`.